<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Import style from static/common.css -->
    <link rel="stylesheet" href="/static/common.css">
    <title>Download AddGene kit info</title>
</head>

<body>
    <div class="container mx-auto col-6">
        <h1>Download AddGene kit info</h1>
        <p>This form allows you to download the list of plasmids contained in an AddGene kit, and
            save it as a tsv file. The tsv file can be used to submit the kit as a template using
            <a href="/">this form</a>.
        </p>
        <h2>How to use this form</h2>
        <ol>
            <li>Copy the url of an AddGene kit, for instance
                <a href="https://www.addgene.org/kits/moclo-ytk">https://www.addgene.org/kits/moclo-ytk</a>.
            </li>
            <li>Paste the url in the input field below.</li>
            <li>Click on the submit button.</li>
            <li>Wait for the table to load.</li>
            <li>Check that the table is correct (contains all plasmids of the kit).</li>
            <li>Click on the "Download as tsv" button to download the table as a tsv file.</li>
            <li>Use that file in the <a href="/">submission form</a> </li>
        </ol>
        <form class="form-group row g-3 align-items-center justify-content-center mt-2" id="main-form">
            <div class="col-auto">
                <input type="text" class="form-control" name="addgene-url" id="addgene-url"
                    placeholder="https://www.addgene.org/kits/...">
            </div>
            <div class="col-auto">
                <input id='submit-button' type="submit" class="btn btn-primary m-2" />
            </div>
        </form>
        <!-- Loading from server div, initially hidden -->
        <div id="loading" class="" hidden>
            <span class="spinner-border" role="status">

            </span>
            <span>Loading...</span>
        </div>
        <div class="download-button">
            <button hidden class="btn btn-success m-2 fs-2" id="download-button">Download tsv</button>
        </div>
        <div class="alert alert-danger" role="alert" hidden>
        </div>
        <div id="table-result">
        </div>
    </div>
    </div>
</body>

<footer>
    <script src="/static/get_kit_info.js"></script>
    <script src="/static/bootstrap.min.js"></script>
</footer>

</html>